<!DOCTYPE html>
<html lang="en"><head>
<link href="../../media/web-favicon.png" rel="icon" type="image/png">
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-html/tabby.min.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-contrib/fontawesome6-1.2.0/all.min.css" rel="stylesheet">
<link href="../../site_libs/quarto-contrib/fontawesome6-1.2.0/latex-fontsize.css" rel="stylesheet"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.7.32">

  <title>Entomology 5126 – Week 5</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    html { -webkit-text-size-adjust: 100%; }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; font-weight: bold; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/theme/quarto-207d2aaea499fbf291ebd3ef4299628c.css">
  <link rel="stylesheet" href="default">
  <link rel="stylesheet" href="slide_styles/slide-styles.css">
  <link rel="stylesheet" href="slide_styles/slide-styles.scss">
  <link href="../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  <script src="../../site_libs/kePrint-0.0.1/kePrint.js"></script>
  <link href="../../site_libs/lightable-0.0.1/lightable.css" rel="stylesheet">
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Week 5</h1>
  <p class="subtitle">Simple linear regression</p>

<div class="quarto-title-authors">
</div>

</section>
<section>
<section id="what-well-cover-today" class="title-slide slide level1 center">
<h1>What we’ll cover today</h1>

</section>
<section id="simple-linear-regression" class="slide level2">
<h2>Simple linear regression</h2>
<div class="fragment">
<div class="box-1-list">
<p><span class="margin-1"><i class="fa-solid fa-file-circle-question" aria-label="file-circle-question"></i></span> Approaches to linear regression</p>
</div>
</div>
<div class="fragment">
<div class="indented-text">
<p><i class="fa-solid fa-turn-up fa-rotate-90"></i> Experimental vs.&nbsp;observational studies</p>
</div>
</div>
<div class="fragment">
<div class="box-1-list">
<p><span class="margin-1"><i class="fa-solid fa-arrow-trend-up" aria-label="arrow-trend-up"></i></span> Correlation</p>
</div>
</div>
<div class="fragment">
<div class="indented-text">
<p><i class="fa-solid fa-turn-up fa-rotate-90"></i> Measuring the relationship between two continuous variables</p>
</div>
</div>
<div class="fragment">
<div class="box-1-list">
<p><span class="margin-1"><i class="fa-solid fa-chart-line" aria-label="chart-line"></i></span> Simple linear regression</p>
</div>
</div>
<div class="fragment">
<div class="indented-text">
<p><i class="fa-solid fa-turn-up fa-rotate-90"></i> Using least-squares (sum of squares) approach to fitting and testing a model</p>
</div>
</div>
</section></section>
<section>
<section id="approaches-to-linear-regression" class="title-slide slide level1 center">
<h1>Approaches to linear regression</h1>

</section>
<section id="the-general-concept" class="slide level2">
<h2>The general concept</h2>
<div class="box-6-list">
<p>In regression analyses, we want to understand if there is a <em>statistically clear</em> relationship between two continuous variables, say <span class="math inline">\(x\)</span> and <span class="math inline">\(y\)</span>.</p>
</div>
<div class="fragment">
<div class="indented-text">
<p><i class="fa-solid fa-turn-up fa-rotate-90"></i> <span class="math inline">\(x\)</span> may be a variable that we manipulated experimentally (e.g., temperature). The approach here is <span class="highlight-tomato">experimental</span></p>
</div>
</div>
<div class="fragment">
<div class="indented-text">
<p><i class="fa-solid fa-turn-up fa-rotate-90"></i> <span class="math inline">\(x\)</span> may also be a variable that we simply measured (e.g., total rainfall). The approach here is <span class="highlight-tomato">observational</span></p>
</div>
</div>
<div class="fragment">
<div class="indented-text">
<p><i class="fa-solid fa-turn-up fa-rotate-90"></i> We can also include categorical variables in regression (i.e., ANOVA!)</p>
</div>
</div>
<div class="fragment">
<div class="indented-text">
<p><i class="fa-solid fa-turn-up fa-rotate-90"></i> Correlation/regression are used to <span class="highlight-tomato">infer linkages</span> between variables and <span class="highlight-tomato">quantify the strength</span> of these links</p>
</div>
<div class="callout callout-warning callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Warning</strong></p>
</div>
<div class="callout-content">
<p>Correlation ≠ causation!</p>
</div>
</div>
</div>
</div>
</section>
<section id="fyi-read-this-paper" class="slide level2">
<h2>FYI: read this paper!</h2>
<p><img data-src="slide_media/w5/ecology-paper.png"></p>
</section></section>
<section>
<section id="correlation" class="title-slide slide level1 center">
<h1>Correlation</h1>
<div class="box-6-list">
<p>Correlation is a measure of a <span class="highlight-tomato">linear</span> relationship between our response variable <span class="math inline">\(y\)</span> and some predictor variable <span class="math inline">\(x\)</span>.</p>
</div>
<div class="fragment">
<div class="indented-text">
<p><i class="fa-solid fa-turn-up fa-rotate-90"></i> We want to quantify how variables “move together” or how informative one variable is to <em>predict</em> values of another variable.</p>
</div>
</div>
<div class="fragment">
<div class="indented-text">
<p><i class="fa-solid fa-turn-up fa-rotate-90"></i> Just like our other statistical parameters we’ve been discussing, we differentiate between population and sampole correlation parameters!</p>
</div>
</div>
</section>
<section id="population-correlation-coefficient" class="slide level2">
<h2>Population correlation coefficient</h2>
<div class="box-6-list">
<ul>
<li><span class="math inline">\(\rho = Corr(X, Y) = \frac{Cov(X, Y)}{\sqrt{Var(X)}\sqrt{Var(Y)}}\)</span> is the population correlation coefficient between <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span></li>
</ul>
</div>
<div class="fragment">
<div class="indented-text">
<p><i class="fa-solid fa-turn-up fa-rotate-90"></i> <span class="math inline">\(-1 \leq \rho \leq 1\)</span></p>
</div>
</div>
<div class="fragment">
<div class="indented-text">
<p><i class="fa-solid fa-turn-up fa-rotate-90"></i> <span class="math inline">\(\rho = 1\)</span> indicates a perfect positive correlation</p>
</div>
</div>
<div class="fragment">
<div class="indented-text">
<p><i class="fa-solid fa-turn-up fa-rotate-90"></i> <span class="math inline">\(0 &lt; \rho &lt; 1\)</span> indicates a positive correlation</p>
</div>
</div>
<div class="fragment">
<div class="indented-text">
<p><i class="fa-solid fa-turn-up fa-rotate-90"></i> <span class="math inline">\(\rho = 0\)</span> indicates no linear relationship</p>
</div>
</div>
<div class="fragment">
<div class="indented-text">
<p><i class="fa-solid fa-turn-up fa-rotate-90"></i> <span class="math inline">\(-1 &lt; \rho &lt; 0\)</span> indicates a negative correlation</p>
</div>
</div>
<div class="fragment">
<div class="indented-text">
<p><i class="fa-solid fa-turn-up fa-rotate-90"></i> <span class="math inline">\(\rho = -1\)</span> indicates a perfect negative correlation</p>
</div>
</div>
</section>
<section id="sample-correlation-coefficient" class="slide level2">
<h2>Sample correlation coefficient</h2>
<div class="box-6-list">
<p><span class="math inline">\(r\)</span> is the sample correlation coefficient and it is calculated similarly to <span class="math inline">\(\rho\)</span></p>
</div>
<p><span class="math display">\[r = \frac{\sum_{i = 1}^n (x_i - \bar{x}) (y_i - \bar{y})}{\sqrt{\sum_{i = 1}^n (x_i - \bar{x})^2} \sqrt{\sum_{i = 1}^n(y_i - \bar{y})^2}}\]</span></p>
<div class="fragment">
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Note</strong></p>
</div>
<div class="callout-content">
<p>The same guidelines/parameters about <span class="math inline">\(\rho\)</span> apply to <span class="math inline">\(r\)</span>!</p>
</div>
</div>
</div>
</div>
<div class="fragment">
<div class="callout callout-tip callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Tip</strong></p>
</div>
<div class="callout-content">
<p><span class="math inline">\(r\)</span> is directly related to the <span class="math inline">\(r^2\)</span> we are all very familiar with! It’s quite literally our sample correlation coefficient squared! We’ll come back to this and show the math a bit later…</p>
</div>
</div>
</div>
</div>
</section>
<section id="how-do-we-calculate-correlation" class="slide level2">
<h2>How do we calculate correlation?</h2>
<ul>
<li>Use R</li>
<li>in R: <code>my_correlation &lt;- cor.test(x, y)</code></li>
</ul>
<div class="center-x">
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>
    Pearson's product-moment correlation

data:  x and y
t = 30.853, df = 48, p-value &lt; 2.2e-16
alternative hypothesis: true correlation is not equal to 0
95 percent confidence interval:
 0.9573578 0.9862104
sample estimates:
     cor 
0.975702 </code></pre>
</div>
</div>
</div>
</section>
<section id="beware-of-spurious-correlation" class="slide level2">
<h2>Beware of spurious correlation!</h2>
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="w5_2-slides_files/figure-revealjs/unnamed-chunk-3-1.png" width="960"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="where-does-correlation-fail" class="slide level2">
<h2>Where does correlation fail?</h2>
<ul>
<li>Correlation measures a <strong>linear</strong> relationship - if your data are not linear correlation will fail to capture the relationship</li>
</ul>
<div class="center-x">
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="w5_2-slides_files/figure-revealjs/unnamed-chunk-4-1.png" width="576"></p>
</figure>
</div>
</div>
</div>
</div>
</section>
<section id="where-does-correlation-fail-a-lesson-in-plotting-your-data" class="slide level2">
<h2>Where does correlation fail? | A lesson in plotting your data</h2>
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="w5_2-slides_files/figure-revealjs/unnamed-chunk-5-1.png" width="960"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="where-does-correlation-fail-a-lesson-in-plotting-your-data-1" class="slide level2">
<h2>Where does correlation fail? | A lesson in plotting your data</h2>
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="w5_2-slides_files/figure-revealjs/unnamed-chunk-6-1.png" width="960"></p>
</figure>
</div>
</div>
</div>
</section></section>
<section>
<section id="simple-linear-regression-1" class="title-slide slide level1 center">
<h1>Simple linear regression</h1>

</section>
<section id="why-cant-we-just-stop-at-our-correlation-coefficient" class="slide level2">
<h2>Why can’t we just stop at our correlation coefficient?</h2>
<div class="box-6-list">
<p>If we’ve calculated a <span class="math inline">\(r\)</span> statistic, we can’t we just report that and be done with it?</p>
</div>
<div class="fragment">
<div class="indented-text">
<p><i class="fa-solid fa-turn-up fa-rotate-90"></i> While the r value quantifies the correlation between our variables, it tells us nothing about <span class="highlight-tomato">uncertainty</span> or the fit/usefullness of our model because…</p>
</div>
</div>
</section>
<section id="section" class="slide level2">
<h2></h2>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="slide_media/w5/spoon-model.jpg" class="quarto-figure quarto-figure-center" width="800"></p>
</figure>
</div>
</section>
<section id="why-cant-we-just-stop-at-our-correlation-coefficient-1" class="slide level2">
<h2>Why can’t we just stop at our correlation coefficient?</h2>
<div class="box-6-list">
<p>Linear regression lets us futher build out the model of our system so that we can <span class="highlight-tomato">estimate the strength of a biological relationship</span> rather than simply a mathematical one!</p>
</div>
</section>
<section id="simple-linear-regression-2" class="slide level2">
<h2>Simple linear regression</h2>
<p><strong>Snowfall example</strong></p>
<div class="cell">
<div class="cell-output-display">
<table class="table table-striped table-condensed caption-top" data-quarto-postprocess="true" style="width: auto !important; ">
<thead>
<tr class="header">
<th style="text-align: right;" data-quarto-table-cell-role="th">Amount of snowfall (in)</th>
<th style="text-align: right;" data-quarto-table-cell-role="th"># of hours to clear street</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">3.2</td>
<td style="text-align: right;">4.9</td>
</tr>
<tr class="even">
<td style="text-align: right;">1.4</td>
<td style="text-align: right;">2.4</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2.6</td>
<td style="text-align: right;">4.4</td>
</tr>
<tr class="even">
<td style="text-align: right;">6.9</td>
<td style="text-align: right;">9.6</td>
</tr>
<tr class="odd">
<td style="text-align: right;">3.6</td>
<td style="text-align: right;">4.8</td>
</tr>
<tr class="even">
<td style="text-align: right;">1.7</td>
<td style="text-align: right;">2.1</td>
</tr>
<tr class="odd">
<td style="text-align: right;">5.0</td>
<td style="text-align: right;">7.3</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="box-6-list">
<p>Question of interest: What is the relationship between the amount of snow fall (<span class="math inline">\(x\)</span>) and the time it takes to clear the streets (<span class="math inline">\(y\)</span>)?</p>
</div>
</section>
<section id="simple-linear-regression-3" class="slide level2">
<h2>Simple linear regression</h2>
<p><strong>Snowfall example</strong></p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="w5_2-slides_files/figure-revealjs/unnamed-chunk-9-1.png" width="960"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="simple-linear-regression-4" class="slide level2">
<h2>Simple linear regression</h2>
<p><strong>Snowfall example | Step 1: fit a line</strong></p>
<div class="box-6-list">
<p>The main idea behind linear regression is fitting a straight line to our data <em>(Recall equation for a straight line <span class="math inline">\(y = mx + b\)</span>)</em>:</p>
</div>
<div class="fragment">
<p><span class="math display">\[
y = b_0 + b_1x
\]</span></p>
</div>
<div class="fragment">
<div class="indented-text">
<p><i class="fa-solid fa-turn-up fa-rotate-90"></i> Here <span class="math inline">\(b_0\)</span> is the y-intercept and <span class="math inline">\(b_1\)</span> is the slope.</p>
</div>
</div>
<div class="fragment">
<div class="indented-text">
<p><i class="fa-solid fa-turn-up fa-rotate-90"></i> The goal is to find the coefficients that give the line of best fit</p>
</div>
</div>
</section>
<section id="simple-linear-regression-5" class="slide level2">
<h2>Simple linear regression</h2>
<p><strong>Snowfall example | Step 1: fit a line</strong></p>
<div class="box-6-list">
<p>There are a variety of methods to find the coefficients <span class="math inline">\(b_0\)</span> and <span class="math inline">\(b_1\)</span> but the most common is <span class="highlight-tomato">least squares</span>.</p>
</div>
<div class="fragment">
<div class="indented-text">
<p><i class="fa-solid fa-turn-up fa-rotate-90"></i> Find <span class="math inline">\(b_0, ~b_1\)</span> that minimize the “sum of squares” of our regression line</p>
</div>
<p><span class="math display">\[\sum_{i = 1}^n (y_i - \hat{y_i})^2\]</span></p>
<div class="indented-text">
<p><i class="fa-solid fa-turn-up fa-rotate-90"></i> where <span class="math inline">\(y_i\)</span> is your observed value and <span class="math inline">\(\hat{y}_i\)</span> is the value <span class="math inline">\(y\)</span> of the line <span class="math inline">\(\hat{b}_0 + \hat{b}_1x_i\)</span></p>
</div>
</div>
</section>
<section id="simple-linear-regression-6" class="slide level2">
<h2>Simple linear regression</h2>
<p><strong>Snowfall example | Step 1: fit a line</strong></p>
<p><img data-src="slide_media/w5/ss-simulated.gif"></p>
</section>
<section id="simple-linear-regression-7" class="slide level2">
<h2>Simple linear regression</h2>
<p><strong>Snowfall example | Step 1: fit a line - regression coefficients</strong></p>
<div class="box-6-list">
<p>There are equations to find our coefficients though! We don’t have to do it by trial and error!</p>
</div>
<div class="fragment">
<p><span class="math display">\[\hat{b}_1 = \frac{\sum_{i= 1}^{n} (x_i - \bar{x}) (y_i - \bar{y})}{\sum_{i = 1}^{n} (x_i - \bar{x})^2}\]</span></p>
</div>
<div class="fragment">
<p><span class="math display">\[= \frac{\sum_{i = 1}^{n} x_i y_i - \frac{1}{n}( \sum_{i = 1}^{n} x_i)(\sum_{i = 1}^{n} y_i)}{\sum_{i = 1}^{n} x_i^2 - \frac{1}{n}(\sum_{i = 1}^{n} x_i)^2}\]</span></p>
</div>
<div class="fragment">
<p>and</p>
<p><span class="math display">\[\hat{b}_0 = \bar{y} - \hat{b}_1\bar{x}\]</span></p>
</div>
</section>
<section id="simple-linear-regression-8" class="slide level2">
<h2>Simple linear regression</h2>
<p><strong>Snowfall example | Step 1: fit a line - regression coefficients</strong></p>
<p><span class="math display">\[\sum_{i=1}^n x_i = 24.40, ~\sum_{i=1}^n x_i^2 = 107.42, ~\sum_{i=1}^n x_i y_i = 154.07\]</span></p>
<p><span class="math display">\[\sum_{i=1}^n y_i = 35.50, \sum_{i=1}^n y_i^2 = 222.03\]</span></p>
<p>Thus</p>
<p><span class="math display">\[\hat b_1 = \frac{154.07-24.40\times 35.50/7}{107.42-24.4\times 24.40/7} = \frac{30.33}{22.37} = 1.356\]</span></p>
<p><span class="math display">\[\hat b_0 = 35.50/7-1.356\times 24.40/7 = 0.345\]</span></p>
</section>
<section id="or-just-use-r" class="slide level2">
<h2>Or just use R</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a></a>m1 <span class="ot">&lt;-</span> <span class="fu">lm</span>(hours_to_clear_streets <span class="sc">~</span> snowfall_inches, <span class="at">data =</span> snowfall)</span>
<span id="cb2-2"><a></a></span>
<span id="cb2-3"><a></a><span class="fu">coef</span>(m1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    (Intercept) snowfall_inches 
      0.3455231       1.3557926 </code></pre>
</div>
</div>
</section>
<section id="simple-linear-regression-9" class="slide level2">
<h2>Simple linear regression</h2>
<p><strong>Snowfall example | Step 2: calculate uncertainty</strong></p>
<div class="box-6-list">
<p>Our model equation is great, but it doesn’t allow us to assess any uncertainty around out predictions. How can we do this?</p>
</div>
<div class="fragment">
<div class="indented-text">
<p><i class="fa-solid fa-turn-up fa-rotate-90"></i> We model <span class="math inline">\(y\)</span> as a random variable <span class="math inline">\(Y\)</span></p>
</div>
</div>
<div class="fragment">
<div class="indented-text">
<p><i class="fa-solid fa-turn-up fa-rotate-90"></i> Consider <span class="math inline">\(x\)</span> to be fixed, but <span class="math inline">\(x\)</span> could be random</p>
</div>
</div>
<div class="fragment">
<div class="indented-text">
<p><i class="fa-solid fa-turn-up fa-rotate-90"></i> Consider the model of <span class="math inline">\(Y\)</span> conditional on <span class="math inline">\(x\)</span> such that <span class="math inline">\(([Y|x])\)</span>, so…</p>
</div>
<p><span class="math display">\[E(Y|x) = b_0 + b_1x\]</span></p>
<div class="indented-text">
<p><i class="fa-solid fa-turn-up fa-rotate-90"></i> where <span class="math inline">\(b_0, b_1\)</span> are fixed unknown parameters (intercept and slope) that characterize the relationship between <span class="math inline">\(x\)</span> and <span class="math inline">\(y\)</span></p>
</div>
</div>
</section>
<section id="simple-linear-regression-10" class="slide level2">
<h2>Simple linear regression</h2>
<p><strong>Snowfall example | Step 2: calculate uncertainty</strong></p>
<div class="box-6-list">
<p>We now have a more formal equation for our linear model:</p>
</div>
<div class="fragment">
<p><span class="math display">\[Y_i = b_0 + b_1 x_i + e_i\]</span></p>
</div>
<div class="fragment">
<div class="indented-text">
<p><i class="fa-solid fa-turn-up fa-rotate-90"></i> <span class="math inline">\(Y\)</span> is called a <em>dependent variable</em> or a <em>response variable</em></p>
</div>
</div>
<div class="fragment">
<div class="indented-text">
<p><i class="fa-solid fa-turn-up fa-rotate-90"></i> <span class="math inline">\(x\)</span> is called an <em>independent variable</em> or <em>covariate</em></p>
</div>
</div>
<div class="fragment">
<div class="indented-text">
<p><i class="fa-solid fa-turn-up fa-rotate-90"></i> <span class="math inline">\(e's\)</span> are called <em>errors</em> and are the distance between our observation and fitted line</p>
</div>
<div class="callout callout-tip callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Tip</strong></p>
</div>
<div class="callout-content">
<p>This model, like the generalized one we developed for ANOVA, lets us reconstruct our dataset exactly!</p>
</div>
</div>
</div>
</div>
</section>
<section id="simple-linear-regression-11" class="slide level2 scrollable">
<h2>Simple linear regression</h2>
<p><strong>Snowfall example | Step 3: Evaluate model assumptions</strong></p>
<ol type="1">
<li>The model is correct. In this case,</li>
</ol>
<p><span class="math display">\[E(Y_i) = b_0 + b_1 x_1\]</span></p>
<div class="indented-text">
<p><i class="fa-solid fa-turn-up fa-rotate-90"></i> That is, <span class="math inline">\(y\)</span> is a function of the linear combination of our <span class="math inline">\(x\)</span> variables (only 1 in the case of simple linear regression).</p>
</div>
<ol start="2" type="1">
<li>Errors <span class="math inline">\(e_i\)</span> are independent.</li>
<li>Errors <span class="math inline">\(e_i\)</span> have homogeneous variance: <span class="math inline">\(Var(e_i) = \sigma^2\)</span></li>
<li>Errors <span class="math inline">\(e_i\)</span> have normal distribution: <span class="math inline">\(e_i \sim N(0, \sigma^2)\)</span></li>
</ol>
</section>
<section id="simple-linear-regression-12" class="slide level2">
<h2>Simple linear regression</h2>
<p><strong>Snowfall example | Step 3: Evaluate model assumptions</strong></p>
<div class="box-6-list">
<p>We estimate the model our model parameters using the data that we have gathered, such that:</p>
</div>
<div class="fragment">
<div class="indented-text">
<p><i class="fa-solid fa-turn-up fa-rotate-90"></i> <span class="math inline">\(b_0, b_1, \sigma^2\)</span> by estimators <span class="math inline">\(\hat{b}_0, \hat{b}_1, \hat{\sigma}^2\)</span></p>
</div>
</div>
<div class="fragment">
<div class="indented-text">
<p><i class="fa-solid fa-turn-up fa-rotate-90"></i> <span class="math inline">\(\sigma^2\)</span> is analagous to MSErr from ANOVA</p>
</div>
</div>
<div class="fragment">
<div class="callout callout-tip callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Tip</strong></p>
</div>
<div class="callout-content">
<p>Provided our model assumptions are met (via diagnostic plots, etc.), we can go onto testing hypothese about our model parameters!</p>
</div>
</div>
</div>
</div>
</section></section>
<section>
<section id="a-quiz" class="title-slide slide level1 center">
<h1>A quiz!</h1>

</section>
<section id="lets-check-our-two-way-anova-and-regression-memory-from-last-week" class="slide level2">
<h2>Let’s check our two-way ANOVA and regression memory from last week…</h2>
<p>We’re slowly building up an arsenal of different linear models that we can use to test hypotheses about both differences between samples (ANOVA), and relationships between variables (regression)!</p>
</section>
<section id="section-1" class="slide level2 scrollable">
<h2></h2>
<div class="box-6-list">
<p>Let’s imagine we did an experiment where we manipulated two categorical variables, temperature and water availability for plants, with two levels (high and low) for each.</p>
</div>
<div class="fragment">
<ol type="1">
<li>What type of experiment is this called?</li>
</ol>
</div>
<div class="fragment">
<ol start="2" type="1">
<li>What sort of analysis should we use to test for the effects of temperature and water on our plant response variables? Defend your choice of analysis.</li>
</ol>
</div>
<div class="fragment">
<ol start="3" type="1">
<li>We fit a model for this experiment with <code>lm(plant_response ~ temp_trt * water_trt)</code> and print the summary below. What is it telling us? Sketch out a figure that shows approximately what these results look like.</li>
</ol>
<pre><code>Residuals:
     Min       1Q   Median       3Q      Max 
-5.1032  -1.7324   0.1186   1.9541   5.4410 

Coefficients:
                          Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)                15.420      0.812   18.99  &lt; 2e-16 ***
temp_trtWarm               3.180      1.149    2.77   0.008 ** 
water_trtHigh              4.025      1.149    3.50   0.001 ***
temp_trtWarm:water_trtHigh 2.635      1.625    1.62   0.112    
---
Signif. codes:
0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1

Residual standard error: 2.58 on 36 degrees of freedom
Multiple R-squared:  0.541,    Adjusted R-squared:  0.504 
F-statistic: 14.1 on 3 and 36 DF,  p-value: 1.6e-06</code></pre>
</div>
</section>
<section id="section-2" class="slide level2 scrollable">
<h2></h2>
<div class="box-6-list">
<p>Now let’s imagine that we conducted a study where we examined how plant growth responded to a natural temperature variation across the whole biogeographical range of the species.</p>
</div>
<div class="fragment">
<ol type="1">
<li>Here’s the print out of that linear regression model summary. What is it telling us?</li>
</ol>
<pre><code>Coefficients:
               Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)     12.3845     1.7421   7.11  1.2e-09 ***
temperature_C    0.8532     0.1216   7.02  1.8e-09 ***
---
Signif. codes:  
0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1

Residual standard error: 3.12 on 48 degrees of freedom
Multiple R-squared:  0.506,   Adjusted R-squared:  0.495 
F-statistic: 49.3 on 1 and 48 DF,  p-value: 1.8e-09</code></pre>
</div>
<div class="fragment">
<ol start="2" type="1">
<li>We take a look at our residual vs.&nbsp;fitted diagnostic plot to see this. What does this indicate?</li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="slide_media/w5/resid-nonlinear-tpc.png" class="quarto-figure quarto-figure-center" width="400"></p>
</figure>
</div>
</div>
<div class="fragment">
<ol start="3" type="1">
<li>How should we interpret the “significance” of this model given the manner in which the data were collected?</li>
</ol>
</div>
</section>
<section id="simple-linear-regression-13" class="slide level2">
<h2>Simple linear regression</h2>
<p><strong>Snowfall example | Step 4: Hypothesis testing</strong></p>
<div class="box-6-list">
<p>In our example, we’re interested in quantifying the relationship between snowfall and cleanup time. We can formalize this research question into a hypothesis!</p>
</div>
<div class="fragment">
<p><span class="math inline">\(H_0\)</span>: There is no association between the amount of snowfall and the number of hours it takes to clear the streets.</p>
</div>
<div class="fragment">
<p><span class="math inline">\(H_A\)</span>: There is an association between the amount of snowfall and the number of hours it takes to clear the streets.</p>
</div>
</section>
<section id="simple-linear-regression-14" class="slide level2">
<h2>Simple linear regression</h2>
<p><strong>Snowfall example | Step 4: Hypothesis testing</strong></p>
<div class="box-6-list">
<p>Generally, the most common hypothesis tested in regression is if there is a significant association between your <span class="math inline">\(x\)</span> and <span class="math inline">\(y\)</span> variables. This can be determined by testing if the slope of the regression is different than 0.</p>
</div>
<p><span class="math inline">\(H_0 : b_1 = 0\)</span></p>
<p><span class="math inline">\(H_A: b_1 \neq 0\)</span></p>
<div class="fragment">
<div class="indented-text">
<p><i class="fa-solid fa-turn-up fa-rotate-90"></i> To accomplish this, we can use both analysis of variance (ANOVA) or a T-test!</p>
</div>
</div>
</section>
<section id="simple-linear-regression-15" class="slide level2">
<h2>Simple linear regression</h2>
<p><strong>Snowfall example | Step 4: Hypothesis testing</strong></p>
<div class="box-6-list">
<p>Let’s start with ANOVA: Recall that ANOVA stands for “<strong>AN</strong>alysis <strong>O</strong>f <strong>VA</strong>riance”</p>
</div>
<div class="fragment">
<div class="indented-text">
<p><i class="fa-solid fa-turn-up fa-rotate-90"></i> We want to split up the total variation of our data and describe how much of the variation is explained by the model and how much variation is left unexplained.</p>
</div>
</div>
<div class="fragment">
<div class="indented-text">
<p><i class="fa-solid fa-turn-up fa-rotate-90"></i> We will partition the sum of squares (SS):</p>
</div>
<p><span class="math display">\[SS~Total = SS~Regression + SS~Error\]</span></p>
</div>
</section>
<section id="section-3" class="slide level2">
<h2></h2>
<p><span class="math display">\[SSTotal = \sum_{i = 1}^{n}(y_i - \bar{y})^2, ~df = n - 1\]</span></p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="w5_2-slides_files/figure-revealjs/unnamed-chunk-11-1.png" width="960"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="section-4" class="slide level2">
<h2></h2>
<p><span class="math display">\[SSRegression = \sum_{i = 1}^{n}(\hat{y_i} - \bar{y})^2, ~df = 1\]</span></p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="w5_2-slides_files/figure-revealjs/unnamed-chunk-12-1.png" width="960"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="section-5" class="slide level2">
<h2></h2>
<p><span class="math display">\[SSError = \sum_{i = 1}^{n}(y_i - \hat{y_i})^2, ~ df = n - 2\]</span></p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="w5_2-slides_files/figure-revealjs/unnamed-chunk-13-1.png" width="960"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="section-6" class="slide level2">
<h2></h2>
<p><span class="math display">\[SSTotal = SSReg + SSErr\]</span></p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="w5_2-slides_files/figure-revealjs/unnamed-chunk-14-1.png" width="960"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="poorly-fitting-model" class="slide level2">
<h2>Poorly fitting model</h2>
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="w5_2-slides_files/figure-revealjs/nodiffresids-1.png" width="960"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="simple-linear-regression-16" class="slide level2">
<h2>Simple linear regression</h2>
<p><strong>Snowfall example | Step 4: Hypothesis testing</strong></p>
<div class="box-6-list">
<p>So, to test our hypothesis for the slope, let’s construct our ANOVA table:</p>
</div>
<div class="cell">
<div class="cell-output-display">
<table class="table table-striped caption-top" data-quarto-postprocess="true" style="margin-left: auto; margin-right: auto;">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Source</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">df</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">Sum of Squares</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">Mean Square (SS / df)</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">F</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Regression</td>
<td style="text-align: right;">1</td>
<td style="text-align: center;">41.13</td>
<td style="text-align: center;">41.130</td>
<td style="text-align: center;">239.13</td>
</tr>
<tr class="even">
<td style="text-align: left;">Error</td>
<td style="text-align: right;">5</td>
<td style="text-align: center;">0.86</td>
<td style="text-align: center;">0.172</td>
<td style="text-align: center;">-</td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold;">Total</td>
<td style="text-align: right; font-weight: bold;">6</td>
<td style="text-align: center; font-weight: bold;">41.99</td>
<td style="text-align: center; font-weight: bold;">-</td>
<td style="text-align: center; font-weight: bold;">-</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="fragment">
<div class="indented-text">
<p><i class="fa-solid fa-turn-up fa-rotate-90"></i> We estimate <span class="math inline">\(\sigma^2\)</span> by <span class="math inline">\(s^2 = MSError = 0.172\)</span> on <span class="math inline">\(df = 2\)</span>.</p>
</div>
<p><span class="math display">\[F = \frac{MSReg}{MSErr} \sim F_{1, ~ n-2}\]</span></p>
</div>
</section>
<section id="simple-linear-regression-17" class="slide level2">
<h2>Simple linear regression</h2>
<p><strong>Snowfall example | Step 4: Hypothesis testing</strong></p>
<div class="box-6-list">
<p>So, to test our hypothesis for the slope, let’s construct our ANOVA table:</p>
</div>
<div class="cell">
<div class="cell-output-display">
<table class="table table-striped caption-top" data-quarto-postprocess="true" style="margin-left: auto; margin-right: auto;">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Source</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">df</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">Sum of Squares</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">Mean Square (SS / df)</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">F</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Regression</td>
<td style="text-align: right;">1</td>
<td style="text-align: center;">41.13</td>
<td style="text-align: center;">41.130</td>
<td style="text-align: center;">239.13</td>
</tr>
<tr class="even">
<td style="text-align: left;">Error</td>
<td style="text-align: right;">5</td>
<td style="text-align: center;">0.86</td>
<td style="text-align: center;">0.172</td>
<td style="text-align: center;">-</td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold;">Total</td>
<td style="text-align: right; font-weight: bold;">6</td>
<td style="text-align: center; font-weight: bold;">41.99</td>
<td style="text-align: center; font-weight: bold;">-</td>
<td style="text-align: center; font-weight: bold;">-</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="fragment">
<p>We can then calculate the tail probability on <span class="math inline">\(F_{1, 5}\)</span>, p-value &lt;&lt; 0.01. Reject <span class="math inline">\(H_0\)</span>! We have strong evidence that the slope is not 0.</p>
</div>
</section>
<section id="simple-linear-regression-18" class="slide level2">
<h2>Simple linear regression</h2>
<p><strong>Snowfall example | Step 4: Hypothesis testing</strong></p>
<div class="box-6-list">
<p>Alternatively, we can conduct this hypothesis test using a t-test:</p>
</div>
<div class="fragment">
<div class="indented-text">
<p><i class="fa-solid fa-turn-up fa-rotate-90"></i> <span class="math inline">\(\hat{b}_1\)</span> is a function of our random variables <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span>, thus it is itself a random variable</p>
</div>
<p><span class="math display">\[\hat b_1 = \frac{\sum_{i=1}^n (x_i-\bar x)(Y_i-\bar Y)}{\sum_{i=1}^n (x_i-\bar x)^2} = \frac{\sum_{i=1}^n (x_i-\bar x) Y_i}{\sum_{i=1}^n (x_i-\bar x)^2}\]</span></p>
</div>
<div class="fragment">
<div class="indented-text">
<p><i class="fa-solid fa-turn-up fa-rotate-90"></i> Because <span class="math inline">\(\hat{b}_1\)</span> is a weighted sum of random distributions, it also has a normal distribution so we can use the t-test to determine if <span class="math inline">\(\hat{b}_1\)</span> is significantly different from 0.</p>
</div>
<p><span class="math display">\[t = \frac{\bar{x} - \mu}{SE} = \frac{\hat{b}_1 - b_1^*}{s_{\hat{b}_1}} = \frac{1.356}{0.0877} = 15.46\]</span></p>
</div>
<div class="fragment">
<div class="indented-text">
<p><i class="fa-solid fa-turn-up fa-rotate-90"></i> <span class="math inline">\(p &lt; 0.01\)</span>, so we can reject the null hypothesis (<span class="math inline">\(H_0: b_1 = 0\)</span>)</p>
</div>
</div>
</section>
<section id="simple-linear-regression-19" class="slide level2">
<h2>Simple linear regression</h2>
<p><strong>Snowfall example | Step 4: Hypothesis testing</strong></p>
<p>Check out the summary of our <code>lm</code> object to see this in action:</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = hours_to_clear_streets ~ snowfall_inches, data = snowfall)

Residuals:
      1       2       3       4       5       6       7 
 0.2159  0.1564  0.5294 -0.1005 -0.4264 -0.5504  0.1755 

Coefficients:
                Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)      0.34552    0.34688   0.996    0.365    
snowfall_inches  1.35579    0.08855  15.311 2.16e-05 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 0.4188 on 5 degrees of freedom
Multiple R-squared:  0.9791,    Adjusted R-squared:  0.9749 
F-statistic: 234.4 on 1 and 5 DF,  p-value: 2.156e-05</code></pre>
</div>
</div>
<div class="fragment">
<div class="callout callout-caution callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Caution</strong></p>
</div>
<div class="callout-content">
<p>This only holds up when our model has a numerator degrees of freedom of 1 (i.e., 1 predictor variable in the model!)</p>
</div>
</div>
</div>
</div>
</section>
<section id="simple-linear-regression-20" class="slide level2">
<h2>Simple linear regression</h2>
<p><strong>Snowfall example | Step 4: Hypothesis testing</strong></p>
<div class="box-6-list">
<p>We can conduct a similar t-test to assess the significance of our model intercept, this is similar to what we did in 1 and 2-way ANOVA. I’ll spare you the math here, and just jump to the conclusions</p>
</div>
<div class="fragment">
<div class="indented-text">
<p><i class="fa-solid fa-turn-up fa-rotate-90"></i> If we are testing <span class="math inline">\(H_0: b_0 = 0\)</span> then the t-test for the intercept can be seen as choosing between <span class="math inline">\(Y_i = b_1 x_1 + e_i\)</span> (a model with no intercept) and the model <span class="math inline">\(Y_i = b_0 + b_1 * x_i + e_i\)</span> under the <span class="math inline">\(H_A\)</span>.</p>
</div>
</div>
<div class="fragment">
<div class="indented-text">
<p><i class="fa-solid fa-turn-up fa-rotate-90"></i> We almost <em>always</em> leave the intercept in our models, unless we have a strong biological rationale for forcing the intercept through the origin (0,0).</p>
</div>
</div>
</section>
<section id="simple-linear-regression-21" class="slide level2">
<h2>Simple linear regression</h2>
<p><strong>Snowfall example | Step 5: assessing model fit</strong></p>
<ul>
<li><p><span class="math inline">\(R^2\)</span> can be used to assess model fit</p></li>
<li><p><span class="math inline">\(R^2 = \frac{SS~Regression}{SS~Total}\)</span></p></li>
<li><p><span class="math inline">\(R^2\)</span> represents the proportion of the total SS that is explained by the regression model</p></li>
</ul>
</section>
<section id="link-between-r-and-r2" class="slide level2">
<h2>Link between <span class="math inline">\(r\)</span> and <span class="math inline">\(R^2\)</span></h2>
<ul>
<li>Correlation is important in regression analysis</li>
<li>In lab, you will (or have) learned that <span class="math inline">\(R^2\)</span> is the proportion of variation in the response variable explained by our experimental factor</li>
<li>Put mathematically, <span class="math inline">\(R^2 = \frac{SSTrt}{SSTotal}\)</span></li>
<li>For a simple linear regression <span class="math inline">\(R^2 = r^2\)</span>.</li>
<li>Put another way, <span class="math inline">\(r = \sqrt{R^2}\)</span></li>
</ul>
</section>
<section id="simple-linear-regression-22" class="slide level2">
<h2>Simple linear regression</h2>
<p><strong>Snowfall example | Step 6: make predictions</strong></p>
<p>Yay! We have a model! We can use it to make predictions, like, how many hours should we expect to clear the streets given 4” of snowfall?</p>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a></a><span class="fu">predict</span>(m1, <span class="at">newdata =</span> <span class="fu">data.frame</span>(<span class="st">"snowfall_inches"</span> <span class="ot">=</span> <span class="dv">4</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       1 
5.768693 </code></pre>
</div>
</div>
</div>
<div class="fragment">
<div class="callout callout-caution callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Caution</strong></p>
</div>
<div class="callout-content">
<p>Be careful! Interpolation (predicting between our observed values) is generally okay, but extrapolation (predicting outside our observed values) may be inaccurate if the linear relationship changes outside the range of our observed variables.</p>
</div>
</div>
</div>


</div>
</section></section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<p><img src="../../media/5126-header.png" class="slide-logo"></p>
<div class="footer footer-default">

</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../../site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="../../site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="../../site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../../site_libs/revealjs/plugin/search/search.js"></script>
  <script src="../../site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="../../site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': true,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"8\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true},
'smaller': true,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'fade',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'slow',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
      window.document.addEventListener("DOMContentLoaded", function (event) {
        const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
        tabsets.forEach(function(tabset) {
          const tabby = new Tabby('#' + tabset.id);
        });
        const isCodeAnnotation = (el) => {
          for (const clz of el.classList) {
            if (clz.startsWith('code-annotation-')) {                     
              return true;
            }
          }
          return false;
        }
        const onCopySuccess = function(e) {
          // button target
          const button = e.trigger;
          // don't keep focus
          button.blur();
          // flash "checked"
          button.classList.add('code-copy-button-checked');
          var currentTitle = button.getAttribute("title");
          button.setAttribute("title", "Copied!");
          let tooltip;
          if (window.bootstrap) {
            button.setAttribute("data-bs-toggle", "tooltip");
            button.setAttribute("data-bs-placement", "left");
            button.setAttribute("data-bs-title", "Copied!");
            tooltip = new bootstrap.Tooltip(button, 
              { trigger: "manual", 
                customClass: "code-copy-button-tooltip",
                offset: [0, -8]});
            tooltip.show();    
          }
          setTimeout(function() {
            if (tooltip) {
              tooltip.hide();
              button.removeAttribute("data-bs-title");
              button.removeAttribute("data-bs-toggle");
              button.removeAttribute("data-bs-placement");
            }
            button.setAttribute("title", currentTitle);
            button.classList.remove('code-copy-button-checked');
          }, 1000);
          // clear code selection
          e.clearSelection();
        }
        const getTextToCopy = function(trigger) {
            const codeEl = trigger.previousElementSibling.cloneNode(true);
            for (const childEl of codeEl.children) {
              if (isCodeAnnotation(childEl)) {
                childEl.remove();
              }
            }
            return codeEl.innerText;
        }
        const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
          text: getTextToCopy
        });
        clipboard.on('success', onCopySuccess);
        if (window.document.getElementById('quarto-embedded-source-code-modal')) {
          const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
            text: getTextToCopy,
            container: window.document.getElementById('quarto-embedded-source-code-modal')
          });
          clipboardModal.on('success', onCopySuccess);
        }
          var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
          var mailtoRegex = new RegExp(/^mailto:/);
            var filterRegex = new RegExp('/' + window.location.host + '/');
          var isInternal = (href) => {
              return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
          }
          // Inspect non-navigation links and adorn them if external
         var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
          for (var i=0; i<links.length; i++) {
            const link = links[i];
            if (!isInternal(link.href)) {
              // undo the damage that might have been done by quarto-nav.js in the case of
              // links that we want to consider external
              if (link.dataset.originalHref !== undefined) {
                link.href = link.dataset.originalHref;
              }
            }
          }
        function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
          const config = {
            allowHTML: true,
            maxWidth: 500,
            delay: 100,
            arrow: false,
            appendTo: function(el) {
                return el.closest('section.slide') || el.parentElement;
            },
            interactive: true,
            interactiveBorder: 10,
            theme: 'light-border',
            placement: 'bottom-start',
          };
          if (contentFn) {
            config.content = contentFn;
          }
          if (onTriggerFn) {
            config.onTrigger = onTriggerFn;
          }
          if (onUntriggerFn) {
            config.onUntrigger = onUntriggerFn;
          }
            config['offset'] = [0,0];
            config['maxWidth'] = 700;
          window.tippy(el, config); 
        }
        const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
        for (var i=0; i<noterefs.length; i++) {
          const ref = noterefs[i];
          tippyHover(ref, function() {
            // use id or data attribute instead here
            let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
            try { href = new URL(href).hash; } catch {}
            const id = href.replace(/^#\/?/, "");
            const note = window.document.getElementById(id);
            if (note) {
              return note.innerHTML;
            } else {
              return "";
            }
          });
        }
        const findCites = (el) => {
          const parentEl = el.parentElement;
          if (parentEl) {
            const cites = parentEl.dataset.cites;
            if (cites) {
              return {
                el,
                cites: cites.split(' ')
              };
            } else {
              return findCites(el.parentElement)
            }
          } else {
            return undefined;
          }
        };
        var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
        for (var i=0; i<bibliorefs.length; i++) {
          const ref = bibliorefs[i];
          const citeInfo = findCites(ref);
          if (citeInfo) {
            tippyHover(citeInfo.el, function() {
              var popup = window.document.createElement('div');
              citeInfo.cites.forEach(function(cite) {
                var citeDiv = window.document.createElement('div');
                citeDiv.classList.add('hanging-indent');
                citeDiv.classList.add('csl-entry');
                var biblioDiv = window.document.getElementById('ref-' + cite);
                if (biblioDiv) {
                  citeDiv.innerHTML = biblioDiv.innerHTML;
                }
                popup.appendChild(citeDiv);
              });
              return popup.innerHTML;
            });
          }
        }
      });
      </script>
    

</body></html>